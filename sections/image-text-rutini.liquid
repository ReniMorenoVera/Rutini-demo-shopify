{{ 'section-image-text-rutini.css' | asset_url | stylesheet_tag }}

<section id="image-text-rutini-{{ section.id }}" class="image-text-rutini">
  <div class="imagetextrutini-container {% if section.settings.full_width == false %}imagetextrutini-page-width{% endif %}">
    <div class="imagetextrutini-grid {% if section.settings.reverse %}imagetextrutini-reverse{% endif %}">
      <div class="imagetextrutini-media">
        {% if section.settings.image != blank %}
  {% assign img = section.settings.image %}
  {% assign base_w = 2000 %}
  {% if img.width < base_w %}{% assign base_w = img.width %}{% endif %}
  {% assign base_h = base_w | divided_by: img.aspect_ratio | round %}

  <img
    src="{{ img | img_url: base_w | append: 'x' }}"
    srcset="
      {{ img | img_url: '400x'  }} 400w,
      {{ img | img_url: '800x'  }} 800w,
      {{ img | img_url: '1200x' }} 1200w,
      {{ img | img_url: '1600x' }} 1600w,
      {{ img | img_url: '2000x' }} 2000w
    "
    sizes="(min-width: 992px) 50vw, 100vw"
    width="{{ base_w }}"
    height="{{ base_h }}"
    alt="{{ img.alt | escape }}"
    loading="lazy"
    class="imagetextrutini-img"
  >
{% else %}
  <div class="imagetextrutini-img imagetextrutini-placeholder"></div>
{% endif %}


      </div>

      <div class="imagetextrutini-content" style="
        {% if section.settings.panel_bg != 'rgba(0,0,0,0)' %}background-color: {{ section.settings.panel_bg }};{% endif %}
        padding: {{ section.settings.panel_padding }};
      ">
        {% if section.settings.title != blank %}
          <h2 class="imagetextrutini-title">{{ section.settings.title }}</h2>
        {% endif %}
        {% if section.settings.text != blank %}
          <div class="imagetextrutini-text rte">{{ section.settings.text }}</div>
        {% endif %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Imagen + Texto (Rutini)",
  "settings": [
    { "type": "checkbox", "id": "full_width", "label": "Ancho completo", "default": true },
    { "type": "text", "id": "max_width", "label": "Ancho máx.", "default": "1200px" },

    { "type": "color", "id": "section_bg", "label": "Fondo de la sección", "default": "rgba(0,0,0,0)" },
    { "type": "text", "id": "section_padding", "label": "Padding sección", "default": "60px 80px" },
    { "type": "text", "id": "section_margin", "label": "Margen sección", "default": "0" },

    { "type": "image_picker", "id": "image", "label": "Imagen" },
    { "type": "checkbox", "id": "reverse", "label": "Invertir columnas (imagen a la derecha)", "default": false },

    { "type": "color", "id": "panel_bg", "label": "Fondo del panel de texto", "default": "#f6f6f6" },
    { "type": "text", "id": "panel_padding", "label": "Padding panel (mobile)", "default": "24px" },
    { "type": "text", "id": "panel_padding_desktop", "label": "Padding panel (desktop)", "default": "48px" },

    { "type": "text", "id": "title", "label": "Título", "default": "GUÍA PARA DISFRUTAR CADA COPA" },
    { "type": "richtext", "id": "text", "label": "Texto", "default": "<p>El equipo enológico de Rutini Wines comparte sus recomendaciones. Vinos elegidos con pasión y maridajes que te darán una guía simple, apasionada y confiable para acompañar cada copa.</p>" }
  ],
  "presets": [
    { "name": "Imagen + Texto (Rutini)" }
  ]
}
{% endschema %}
