{%- if section.settings.enable_country_selector -%}
  {{ 'disclosure.css' | asset_url | stylesheet_tag }}
{%- endif -%}
{%- if section.settings.enable -%}
  <style data-shopify>
    .announcement-bar {
    	color: #FFFFFF;
    	background-color: black;
    	font-family: 'Poppins';
    	font-size: {{ section.settings.font-size}}px;
    	{%- if section.settings.padding_block != blank -%}
    		padding: {{ section.settings.padding_block }};
    	{%- endif -%}
    }
    .announcement-bar__inner { border-bottom: 1px solid rgba(255, 255, 255, 0.40);}
    .announcement-bar .disclosure__button {
    	color: {{ section.settings.color_top_text }};
    	font-size: {{ section.settings.font-size}}px;
    }
    .announcement-bar .text,
    .announcement-bar a {
    	color: #FFFFFF;
    }
    .announcement-bar .text:hover,
    .announcement-bar a:hover {
    	color: #51C5AE;
    }
    .credentials {
      white-space: nowrap;
    }
    @media (max-width: 768px) {
      .check-in {
          display: none !important; /* Hide the element */
      }
  }
  </style>
  <div class="announcement-bar py-1">
    <div class="container{%- if section.settings.full_with -%}-fluid{%-endif-%}">
      <div class="announcement-bar__inner d-flex justify-content-between py-2 gap-1">
        <div class="align-items-left">
          {%- if section.settings.enable_country_selector -%}
            <div class="announcement-bar__disclosure d-flex">
              <div class="position-relative d-flex">
                {%- if localization.available_languages.size > 1 -%}
                  <localization-form>
                    {%- form 'localization', id: 'FooterLanguageForm', class: 'localization-form me-3' -%}
                      <div class="no-js-hidden">
                        <div class="disclosure d-flex">
                          <button
                            type="button"
                            class="disclosure__button localization-form__select localization-selector text-uppercase"
                            aria-expanded="false"
                            aria-controls="FooterLanguageList"
                            aria-describedby="FooterLanguageLabel"
                          >
                            {{ localization.language.endonym_name | capitalize }}
                            {% render 'icons', icon: 'caret', class: 'ms-1' %}
                          </button>
                          <ul id="FooterLanguageList" role="list" class="disclosure__list list-unstyled" hidden>
                            {%- for language in localization.available_languages -%}
                              <li class="disclosure__item" tabindex="-1">
                                <a
                                  class="disclosure__link {% if language.iso_code == localization.language.iso_code %} disclosure__link--active{% endif %} focus-inset"
                                  href="#"
                                  hreflang="{{ language.iso_code }}"
                                  lang="{{ language.iso_code }}"
                                  {% if language.iso_code == localization.language.iso_code %}
                                    aria-current="true"
                                  {% endif %}
                                  data-value="{{ language.iso_code }}"
                                >
                                  {{ language.endonym_name | capitalize }}
                                </a>
                              </li>
                            {%- endfor -%}
                          </ul>
                        </div>
                        <input type="hidden" name="locale_code" value="{{ localization.language.iso_code }}">
                      </div>
                    {%- endform -%}
                  </localization-form>
                {%- endif -%}
                {%- if localization.available_countries.size > 1 -%}
                  <localization-form>
                    {%- form 'localization', id: 'FooterCountryForm', class: 'localization-form ' -%}
                      <div class="disclosure">
                        <button
                          type="button"
                          class="disclosure__button localization-form__select localization-selector text-uppercase"
                          aria-expanded="false"
                          aria-controls="FooterCountryList"
                          aria-describedby="FooterCountryLabel"
                        >
                          {{ localization.country.currency.iso_code }}
                          {{ localization.country.currency.symbol }}
                          {% render 'icons', icon: 'caret', class: 'ms-1' %}
                        </button>
                        <ul id="FooterCountryList" role="list" class="disclosure__list list-unstyled" hidden>
                          {%- for country in localization.available_countries -%}
                            <li class="disclosure__item" tabindex="-1">
                              <a
                                class="disclosure__link {% if country.iso_code == localization.country.iso_code %} disclosure__link--active{% endif %} focus-inset"
                                href="#"
                                {% if country.iso_code == localization.country.iso_code %}
                                  aria-current="true"
                                {% endif %}
                                data-value="{{ country.iso_code }}"
                              >
                                <span class="localization-form__currency">
                                  {{- country.currency.iso_code }}
                                  {{ country.currency.symbol -}}
                                </span>
                              </a>
                            </li>
                          {%- endfor -%}
                        </ul>
                      </div>
                      <input type="hidden" name="country_code" value="{{ localization.country.iso_code }}">
                    {%- endform -%}
                  </localization-form>
                {%- endif -%}
                {% comment %} {% include 'vela-currencies' %} {% endcomment %}
              </div>
            </div>
          {%- endif -%}
          {%- if section.settings.text != blank -%}
            <div class="announcement-bar__text text-center">
              {{ section.settings.text }}
            </div>
          {%- endif -%}
          {%- include 'vela-toplinks' -%}
        </div>
        <div class="align-items-right px-2 d-flex gap-3" style="align-items: center">
          {% comment %} <form action="{{ routes.cart_url }}" method="post">
            <button class="text border-0 bg-transparent text-uppercase" type="submit" name="checkout">
              CHECK OUT
            </button>
          </form> {% endcomment %}
          <div class="credentials">
            {% if customer != blank %}
              <a href="{{ routes.account_url }}">MI CUENTA</a>
            {% else %}
              <a href="{{ routes.account_login_url }}">INICIAR SESIÓN</a>
            {% endif %}
          </div>
          <div class="credentials">
            {% if customer %}
              <a href="{{ routes.account_logout_url }}">CERRAR SESIÓN</a>
            {% else %}
              <a href="{{ routes.account_register_url }}">REGISTRO</a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
{%- endif -%}
{% schema %}
{
  "name": "Announcement",
  "settings": [
    {
      "type": "checkbox",
      "id": "enable",
      "label": "Enabel?",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "full_with",
      "label": "Enabel Full Width?"
    },
    {
      "type": "text",
      "id": "padding_block",
      "label": "Padding",
      "placeholder": "0px 0px",
      "info": "0px 0px 0px 0px"
    },
    {
      "type": "color",
      "id": "color_bg",
      "label": "Background Color",
      "default": "rgba(0,0,0,0)"
    },
    {
      "type": "color",
      "id": "color_top_text",
      "label": "Color",
      "default": "#1f2021"
    },
    {
      "type": "color",
      "id": "color_top_link",
      "label": "Color Link",
      "default": "#1f2021"
    },
    {
      "type": "range",
      "id": "font-size",
      "min": 8,
      "max": 30,
      "step": 1,
      "unit": "px",
      "label": "Font-size",
      "default": 14
    },
    {
      "type": "checkbox",
      "id": "enable_country_selector",
      "label": "Enable language & currency",
      "default": false,
      "info": "[Add language](https:\/\/help.shopify.com\/en\/manual\/cross-border\/multilingual-online-store),[Add currency](https:\/\/help.shopify.com\/en\/manual\/payments\/shopify-payments\/multi-currency\/setup)"
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "Text Center",
      "info": "Ex: Free shipping on all orders over <u>$79<\/u><a href=\"\/collections\/all\" class=\"bg-primary\">shop Now!<\/a>"
    }
  ]
}
{% endschema %}
